class DrumKit{constructor(){this.pads=document.querySelectorAll(".pad"),this.playBtn=document.querySelector(".play"),this.currentKick="./sounds/allSounds/kick-classic.wav",this.currentSnare="./sounds/allSounds/snare-acoustic01.wav",this.currentHihat="./sounds/allSounds/hihat-acoustic01.wav",this.kickAudio=document.querySelector(".kick-sound"),this.snareAudio=document.querySelector(".snare-sound"),this.hihatAudio=document.querySelector(".hihat-sound"),this.index=0,this.bpm=150,this.isPlaying=null,this.selects=document.querySelectorAll("select"),this.muteBtns=document.querySelectorAll(".mute"),this.tempoSlider=document.querySelector(".tempo-slider")}activePad(){this.classList.toggle("active")}repeat(){let t=this.index%8;document.querySelectorAll(".b"+t).forEach(t=>{t.style.animation="playTrack 0.3s alternate ease-in-out 2",t.classList.contains("active")&&(t.classList.contains("kick-pad")&&(this.kickAudio.currentTime=0,this.kickAudio.play()),t.classList.contains("snare-pad")&&(this.snareAudio.currentTime=0,this.snareAudio.play()),t.classList.contains("hihat-pad")&&(this.hihatAudio.currentTime=0,this.hihatAudio.play()))}),this.index++}start(){const t=60/this.bpm*1e3;this.isPlaying?(clearInterval(this.isPlaying),this.isPlaying=null):this.isPlaying=setInterval(()=>{this.repeat()},t)}UpdateBtn(){this.isPlaying?(this.playBtn.innerHTML="Start",this.playBtn.classList.remove("active")):(this.playBtn.innerHTML="Stop",this.playBtn.classList.add("active"))}changeSound(t){const e=t.target.name,i=t.target.value;switch(e){case"kick-select":this.kickAudio.src=i;break;case"snare-select":this.snareAudio.src=i;break;case"hihat-select":this.hihatAudio.src=i}}mute(t){const e=t.target.getAttribute("data-track");if(t.target.classList.toggle("active"),t.target.classList.contains("active"))switch(e){case"0":this.kickAudio.volume=0;break;case"1":this.snareAudio.volume=0;break;case"2":this.hihatAudio.volume=0}else switch(e){case"0":this.kickAudio.volume=1;break;case"1":this.snareAudio.volume=1;break;case"2":this.hihatAudio.volume=1}}changeTempo(t){const e=document.querySelector(".tempo-nr");this.bpm=t.target.value,e.innerText=t.target.value}updateTempo(t){clearInterval(this.isPlaying),this.isPlaying=null;document.querySelector(".play").classList.contains("active")&&this.start()}}const drumKit=new DrumKit;drumKit.pads.forEach(t=>{t.addEventListener("click",drumKit.activePad),t.addEventListener("animationend",(function(){this.style.animation=""}))}),drumKit.playBtn.addEventListener("click",(function(){drumKit.UpdateBtn(),drumKit.start()})),drumKit.selects.forEach(t=>{t.addEventListener("change",(function(t){drumKit.changeSound(t)}))}),drumKit.muteBtns.forEach(t=>{t.addEventListener("click",(function(t){drumKit.mute(t)}))}),drumKit.tempoSlider.addEventListener("input",(function(t){drumKit.changeTempo(t)})),drumKit.tempoSlider.addEventListener("change",(function(t){drumKit.updateTempo(t)}));